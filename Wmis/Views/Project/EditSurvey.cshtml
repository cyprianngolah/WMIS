@{
    ViewBag.Title = "Survey";
	ViewBag.SubTitle = "Edit";
}

@section TopRight{
	<div class="h5 pull-right" style="text-align: right; margin:0;" data-bind="with: survey">
		<span data-bind="with: targetSpecies">Target Species: <span data-bind="text: name"></span><br /></span>
		<span>Common Name: <span data-bind="commonName"></span></span>
	</div>
}

@section Styles {
	@Html.Raw(Styles.Render("~/bundles/content/datatables"))
	@Html.Raw(Styles.Render("~/bundles/select2css"))
}

@section Scripts{
	@Html.Raw(Scripts.Render("~/bundles/datatables"))
	@Html.Raw(Scripts.Render("~/bundles/select2"))
	@Html.Raw(Scripts.Render("~/bundles/knockout"))
	@Html.Raw(Scripts.Render("~/bundles/dialog/synonym"))
	@Html.Raw(Scripts.Render("~/bundles/project/survey/edit"))

	<script>
        $(function () {
            wmis.project.survey.edit.initialize({
            	projectSurveyKey: @ViewBag.Key,
            });
        });
	</script>
}

<form role="form">
	<div class="row">
		<div class="col-md-12 text-right">
			<a href="~/Project/" class="btn btn-default">Cancel</a>
			<button type="submit" class="btn btn-primary" data-bind="click: saveProject, enable: canSave">Save</button>
		</div>
	</div>

	<div class="row">
		<div class="col-md-12">
			<ul class="nav nav-tabs" role="tablist">
				<li class="active"><a href="#surveyTab" role="tab" data-toggle="tab">Survey</a></li>
				<li><a href="#observationTab" role="tab" data-toggle="tab">Observation</a></li>
			</ul>

			<!-- Tab panes -->
			<!-- Survey -->
			<div class="tab-content" style="margin-top:10px;">
				<div class="tab-pane form-horizontal active" data-bind="with: survey" id="surveyTab">
					<div class="form-group">
						<label for="targetSpecies" class="col-md-1 control-label">Target Species</label>
						<div class="col-md-3" data-bind="with: 'targetSpecies'">
							<select class="form-control" id="targetSpecies" data-bind="options: $root.species, optionsText: 'name', optionsValue: 'key', optionsCaption: '', value: 'key', select2: { }"></select>
						</div>
					</div>
					
					<div class="form-group">
						<label for="surveyType" class="col-md-1 control-label">Survey Type</label>
						<div class="col-md-3" data-bind="with: 'surveyType'">
							<select class="form-control" id="surveyType" data-bind="options: $root.surveyTypes, optionsText: 'name', optionsValue: 'key', optionsCaption: '', value: 'key', select2: { }"></select>
						</div>

						<label for="template" class="col-md-1 control-label">Template</label>
						<div class="col-md-3" data-bind="with: 'template'">
							<select class="form-control" id="template" data-bind="options: $root.templates, optionsText: 'name', optionsValue: 'key', optionsCaption: '', value: 'key', select2: { }"></select>
						</div>
					</div>
					
					<div class="form-group">
						<label for="description" class="col-md-1 control-label">Description</label>
						<div class="col-md-11">
							<textarea rows="4" name="description" class="form-control" data-bind="value: description"></textarea>
						</div>
					</div>

					<div class="form-group">
						<label for="method" class="col-md-1 control-label">Method</label>
						<div class="col-md-11">
							<textarea rows="4" name="method" class="form-control" data-bind="value: method"></textarea>
						</div>
					</div>
					
					<div class="form-group">
						<label for="results" class="col-md-1 control-label">Results</label>
						<div class="col-md-11">
							<textarea rows="4" name="results" class="form-control" data-bind="value: results"></textarea>
						</div>
					</div>
					
					<div class="row">
						<div class="col-md-12 h4">
							<div class="row">
								<div class="col-md-12">Aircraft/Crew</div>
							</div>
							<hr />
						</div>
					</div>
					
					<div class="form-group">
						<label for="aircraftType" class="col-md-1 control-label">Aircraft Type</label>
						<div class="col-md-3">
							<input type="text" class="form-control" id="aircraftType" data-bind="value: aircraftType">
						</div>

						<label for="aircraftCallsign" class="col-md-1 control-label">Aircraft Callsign</label>
						<div class="col-md-3">
							<input type="text" class="form-control" id="aircraftCallsign" data-bind="value: aircraftCallsign">
						</div>
						
						<label for="pilot" class="col-md-1 control-label">Pilot</label>
						<div class="col-md-3">
							<input type="text" class="form-control" id="pilot" data-bind="value: pilot">
						</div>
					</div>
					
					<div class="form-group">
						<label for="leadSurveyor" class="col-md-1 control-label">Lead Surveyor</label>
						<div class="col-md-3">
							<input type="text" class="form-control" id="leadSurveyor" data-bind="value: leadSurveyor">
						</div>

						<label for="surveyCrew" class="col-md-1 control-label">Survey Crew</label>
						<div class="col-md-3">
							<input type="text" class="form-control" id="surveyCrew" data-bind="value: surveyCrew">
						</div>

						<label for="observerExpertise" class="col-md-1 control-label">Observer Expertise</label>
						<div class="col-md-3">
							<input type="text" class="form-control" id="observerExpertise" data-bind="value: observerExpertise">
						</div>
					</div>
					
					<div class="form-group">
						<label for="aircraftCrewComments" class="col-md-1 control-label">Results</label>
						<div class="col-md-11">
							<textarea rows="4" name="aircraftCrewComments" class="form-control" data-bind="value: aircraftCrewComments"></textarea>
						</div>
					</div>

					<div class="row">
						<div class="col-md-12 h4">
							<div class="row">
								<div class="col-md-12">Weather</div>
							</div>
							<hr />
						</div>
					</div>
					
					<div class="form-group">
						<label for="cloudCover" class="col-md-1 control-label">Cloud Cover</label>
						<div class="col-md-3">
							<input type="text" class="form-control" id="cloudCover" data-bind="value: cloudCover">
						</div>

						<label for="lightConditions" class="col-md-1 control-label">Light Conditions</label>
						<div class="col-md-3">
							<input type="text" class="form-control" id="lightConditions" data-bind="value: lightConditions">
						</div>

						<label for="snowCover" class="col-md-1 control-label">Snow Cover</label>
						<div class="col-md-3">
							<input type="text" class="form-control" id="snowCover" data-bind="value: snowCover">
						</div>
					</div>

					<div class="form-group">
						<label for="temperature" class="col-md-1 control-label">Temperature</label>
						<div class="col-md-3">
							<input type="text" class="form-control" id="temperature" data-bind="value: temperature">
						</div>

						<label for="precipitation" class="col-md-1 control-label">Precipitation</label>
						<div class="col-md-3">
							<input type="text" class="form-control" id="precipitation" data-bind="value: precipitation">
						</div>

						<label for="windSpeed" class="col-md-1 control-label">Wind Speed</label>
						<div class="col-md-3">
							<input type="text" class="form-control" id="windSpeed" data-bind="value: windSpeed">
						</div>
					</div>
					
					<div class="form-group">
						<label for="windDirection" class="col-md-1 control-label">Wind Direction</label>
						<div class="col-md-3">
							<input type="text" class="form-control" id="windDirection" data-bind="value: windDirection">
						</div>
					</div>

					<div class="form-group">
						<label for="weatherComments" class="col-md-1 control-label">Comments</label>
						<div class="col-md-11">
							<textarea rows="4" name="weatherComments" class="form-control" data-bind="value: weatherComments"></textarea>
						</div>
					</div>

				</div>
			</div>
			
			<!-- Observation -->
			<div class="tab-content" style="margin-top:10px;">
				<div class="tab-pane form-horizontal" data-bind="with: survey" id="observationTab">
				</div>
			</div>
		</div>
	</div>
</form>