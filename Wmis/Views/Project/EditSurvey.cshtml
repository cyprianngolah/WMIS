@{
    ViewBag.Title = "Survey";
    ViewBag.SubTitle = "View";
}

@section CustomTitle {
    <div class="h1 m-0">
        <ol class="breadcrumb">
            <li v-show="project"><a :href="`/Project/Edit/${project ? project.key : ''}`">{{ project ? project.name : "" }}</a></li>
            <li class="active">
                Survey @if (!string.IsNullOrEmpty(@ViewBag.SubTitle))
                {<small>@Html.Raw(ViewBag.SubTitle)</small>}
            </li>
        </ol>
    </div>
}

@section TopRight{
    <div class="h6 text-end">
        <span>Target Species: {{ form.targetSpecies ? form.targetSpecies.name : "" }}<br /></span>
        <span>Common Name: {{ form.targetSpecies ? form.targetSpecies.commonName : "" }}</span>
    </div>
}

@section Styles {
    @Html.Raw(Styles.Render("~/bundles/content/datatables"))
    @Html.Raw(Styles.Render("~/bundles/select2css"))

    <style>
        .breadcrumb {
            background-color: white;
            border-radius: 4px;
            list-style: outside none none;
            margin-bottom: 0;
            padding: 0 15px;
        }

        .breadcrumb > li + li::before {
            content: "/ ";
            padding: 0 5px;
        }
            .breadcrumb:first-child a {
                font-size: 0.8em !important;

            }

        #map-canvas {
            height: 500px;
            width: 100%;
        }
    </style>
}

@section Scripts{
    @*<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAPbVsrzI2t37hJOZKAo1bqpCu3khl14kM&callback=initMap" type="text/javascript"></script>
        @Html.Raw(Scripts.Render("~/bundles/datePicker"))
        @Html.Raw(Scripts.Render("~/bundles/datatables"))
        @Html.Raw(Scripts.Render("~/bundles/select2"))
        @Html.Raw(Scripts.Render("~/bundles/knockout"))
        @Html.Raw(Scripts.Render("~/bundles/project/survey/edit"))
        @Html.Raw(Scripts.Render("~/bundles/shared/historytab"))
        @Html.Raw(Scripts.Render("~/bundles/shared/filetab"))

        <script>
            $(function() {
                wmis.project.survey.edit.initialize({
                    projectSurveyKey: @ViewBag.Key,
                    uploadObservationForm: $("#observationFileUploadForm"),
                    observationModal: $("#observationUploadModal"),
                    resumeObservationModal: $("resumeObservationUploadModal")
                });
                wmis.shared.historytab.initialize(@ViewBag.Key, 'SurveyHistory', 'historyTemplateTempDiv');
                wmis.shared.filetab.initialize(@ViewBag.Key, 'Survey', 'fileTemplateTempDiv')
            });
        </script>*@

    @Html.Raw(Scripts.Render("~/bundles/select2"))
    @Html.Raw(Scripts.Render("~/bundles/components/base"))
    @Html.Raw(Scripts.Render("~/bundles/project/survey/edit"))
}

<input type="hidden" id="surveyKey" value="@ViewBag.Key" />


<div class="row">
    <div class="col-md-12">

        <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item active"><a href="#survey" role="tab" data-bs-toggle="tab" class="nav-link active">Survey</a></li>
            <li class="nav-item"><a href="#observations" role="tab" data-bs-toggle="tab" class="nav-link">Observations</a></li>
            <li class="nav-item"><a href="#links" role="tab" data-bs-toggle="tab" class="nav-link">Links</a></li>
            <li class="nav-item"><a href="#history" role="tab" data-bs-toggle="tab" class="nav-link">History</a></li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content" id="surveyTabContent">
            <div id="survey" class="tab-pane active py-4">
                <div v-show="project">
                    @{Html.RenderPartial("EditSurveyTab");}
                </div>
            </div>

            <div id="observations" class="tab-pane py-4">
                Observations
            </div>

            <div id="links" class="tab-pane py-4">
                Links
            </div>

            <div id="history" class="tab-pane py-4">
                History
            </div>
        </div>
    </div>
</div>